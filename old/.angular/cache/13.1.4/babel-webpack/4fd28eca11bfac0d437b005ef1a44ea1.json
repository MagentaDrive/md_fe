{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Thomas\\\\Desktop\\\\md_fe\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\Thomas\\\\Desktop\\\\md_fe\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { r as registerInstance, c as createEvent, h, a as Host, g as getElement } from './index-f2e5998d.js';\nimport { c as classnames } from './index-713f92a5.js';\nimport { e as emitEvent } from './utils-524c237e.js';\nimport { s as statusNote } from './status-note-d227f142.js';\nvar sliderCss = \":host{--border:1px solid var(--scl-color-grey-60);--background-bar:var(--scl-color-primary);--border-color-thumb:var(--scl-color-grey-60);--box-shadow-thumb:var(--scl-shadow-level-0);--border-color-thumb-hover:var(--scl-color-primary-hover);--border-color-thumb-active:var(--scl-color-primary-active);--box-shadow-thumb-focus:0 0 0 var(--scl-spacing-2) var(--scl-color-focus);--color-display-value:var(--scl-color-grey-60);--font-weight-display-value:var(--scl-font-weight-bold);--font-size-display-value:var(--scl-font-size-12);--background-track:var(--scl-color-grey-50);--background-bar-disabled:var(--scl-color-grey-50);--color-label-disabled:var(--scl-color-grey-50)}.slider{width:100%;display:block;align-items:center}.slider .slider__track-wrapper{display:flex;align-items:center}.slider .slider__track{width:303px;border:var(--border);height:6px;margin:16px 0;display:flex;position:relative;box-sizing:border-box;align-items:center;border-radius:100px}.slider .slider__bar{height:6px;z-index:-1;position:absolute;border-radius:100px;background-color:var(--background-bar)}.slider .slider__thumb-wrapper{width:32px;height:32px;display:flex;z-index:1;position:absolute;text-align:center;align-items:center;margin-left:-16px;justify-content:center;background-color:transparent}.slider .slider__thumb{width:16px;border:1px solid;height:16px;outline:none;box-sizing:border-box;border-color:var(--border-color-thumb);border-radius:50%;background-color:#fff;box-shadow:var(--scl-shadow-level-0)}.slider .slider__display-value{color:var(--color-display-value);margin-left:24px;font-weight:var(--font-weight-display-value);font-size:var(--font-size-display-value)}.slider .slider__thumb:hover{border-color:var(--border-color-thumb-hover)}.slider .slider__thumb:active{border-color:var(--border-color-thumb-active)}.slider .slider__thumb:focus{box-shadow:var(--box-shadow-thumb-focus)}.slider .slider__thumb-wrapper:hover{cursor:grab}.slider .slider__thumb-wrapper:active{cursor:grabbing}.slider--track-small .slider__track{border:none;height:1px;border-top:1px solid transparent;background-color:var(--background-track)}.slider--track-small .slider__bar{border:1px solid transparent;height:3px;z-index:1;box-sizing:border-box}.slider--thumb-large .slider__thumb{width:24px;height:24px}.slider--disabled .slider__track-wrapper{cursor:not-allowed}.slider--disabled .slider__bar{background-color:var(--background-bar-disabled)}.slider--disabled .slider__thumb{display:none}.slider--disabled .slider__label{color:var(--color-label-disabled)}.slider--disabled .slider__thumb-wrapper:hover{cursor:not-allowed}\";\nvar i = 0;\n\nvar Slider = /*#__PURE__*/function () {\n  function Slider(hostRef) {\n    var _this = this;\n\n    _classCallCheck(this, Slider);\n\n    registerInstance(this, hostRef);\n    this.scaleChange = createEvent(this, \"scale-change\", 7);\n    this.scaleChangeLegacy = createEvent(this, \"scaleChange\", 7);\n    this.scaleInput = createEvent(this, \"scale-input\", 7);\n    this.scaleInputLegacy = createEvent(this, \"scaleInput\", 7);\n    /** t(optional) he minimal value of the slider */\n\n    this.min = 0;\n    /** (optional) the maximal value of the slider */\n\n    this.max = 100;\n    /** (optional) the step size to increase or decrease when dragging slider */\n\n    this.step = 1;\n    /** (optional) slider display value */\n\n    this.showValue = true;\n    /** (optional) slider value unit */\n\n    this.unit = '%';\n    /** (optional) number of decimal places */\n\n    this.decimals = 0;\n    /** (optional) disabled  */\n\n    this.disabled = false;\n    /** (optional) smaller track */\n\n    this.trackSmall = false;\n    /** (optional) larger thumb */\n\n    this.thumbLarge = false;\n\n    this.onButtonDown = function () {\n      if (_this.disabled) {\n        return;\n      }\n\n      _this.onDragStart();\n\n      _this.addGlobalListeners();\n    };\n\n    this.onKeyDown = function (event) {\n      var steps = 0;\n\n      if (['ArrowRight', 'ArrowLeft'].includes(event.key)) {\n        steps = event.key === 'ArrowRight' ? _this.step : -_this.step;\n      }\n\n      if (['ArrowUp', 'ArrowDown'].includes(event.key)) {\n        steps = event.key === 'ArrowUp' ? _this.step * 10 : -_this.step * 10;\n      }\n\n      _this.setValue(_this.value + steps);\n    };\n\n    this.onDragStart = function () {\n      _this.dragging = true;\n      _this.offsetLeft = _this.sliderTrack.getBoundingClientRect().left;\n    };\n\n    this.onDragging = function (event) {\n      var dragging = _this.dragging,\n          offsetLeft = _this.offsetLeft;\n\n      if (dragging) {\n        var currentX = _this.handleTouchEvent(event).clientX;\n\n        var position = (currentX - offsetLeft) / _this.sliderTrack.offsetWidth * 100;\n        var nextValue = position * (_this.max - _this.min) / 100 + _this.min; // https://stackoverflow.com/q/14627566\n\n        var roundedNextValue = Math.ceil(nextValue / _this.step) * _this.step;\n\n        _this.setValue(roundedNextValue);\n      }\n    };\n\n    this.onDragEnd = function () {\n      _this.dragging = false;\n      emitEvent(_this, 'scaleChange', _this.value);\n\n      _this.removeGlobalListeners();\n    };\n\n    this.setValue = function (nextValue) {\n      _this.value = _this.clamp(nextValue);\n      emitEvent(_this, 'scaleInput', _this.value);\n    };\n\n    this.setPosition = function () {\n      if (!_this.value) {\n        _this.position = 0;\n        return;\n      }\n\n      var clampedValue = _this.clamp(_this.value); // https://stackoverflow.com/a/25835683\n\n\n      _this.position = (clampedValue - _this.min) * 100 / (_this.max - _this.min);\n    };\n\n    this.clamp = function (val) {\n      return Math.min(Math.max(val, _this.min), _this.max);\n    };\n\n    this.onDragging = this.onDragging.bind(this);\n    this.onDragEnd = this.onDragEnd.bind(this);\n  }\n\n  _createClass(Slider, [{\n    key: \"componentWillLoad\",\n    value: function componentWillLoad() {\n      if (this.sliderId == null) {\n        this.sliderId = 'slider-' + i++;\n      }\n\n      this.setPosition();\n    }\n  }, {\n    key: \"disconnectedCallback\",\n    value: function disconnectedCallback() {\n      this.removeGlobalListeners();\n    }\n  }, {\n    key: \"componentDidLoad\",\n    value: function componentDidLoad() {\n      if (this.customColor !== undefined) {\n        statusNote({\n          tag: 'deprecated',\n          message: \"Property \\\"customColor\\\" is deprecated. \\n          Please use css variable \\\"--background-bar\\\" to set the slider-bar color;\\n          e.g. <scale-slider value=\\\"20\\\" style=\\\"--background-bar: green\\\"></scale-slider>\",\n          type: 'warn',\n          source: this.hostElement\n        });\n      }\n    }\n  }, {\n    key: \"handleTouchEvent\",\n    value: function handleTouchEvent(event) {\n      return event.type.indexOf('touch') === 0 ? event.touches[0] : event;\n    }\n  }, {\n    key: \"handleValueChange\",\n    value: function handleValueChange() {\n      this.setPosition();\n    }\n  }, {\n    key: \"addGlobalListeners\",\n    value: function addGlobalListeners() {\n      window.addEventListener('mousemove', this.onDragging.bind(this));\n      window.addEventListener('mouseup', this.onDragEnd.bind(this));\n      window.addEventListener('touchmove', this.onDragging.bind(this));\n      window.addEventListener('touchend', this.onDragEnd.bind(this));\n    }\n  }, {\n    key: \"removeGlobalListeners\",\n    value: function removeGlobalListeners() {\n      window.removeEventListener('mousemove', this.onDragging);\n      window.removeEventListener('mouseup', this.onDragEnd);\n      window.removeEventListener('touchmove', this.onDragging);\n      window.removeEventListener('touchend', this.onDragEnd);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return h(Host, null, this.styles && h(\"style\", null, this.styles), h(\"div\", {\n        part: this.getBasePartMap(),\n        class: this.getCssClassMap()\n      }, !!this.label && h(\"label\", {\n        part: \"label\",\n        class: \"slider__label\",\n        id: \"\".concat(this.sliderId, \"-label\"),\n        htmlFor: this.sliderId\n      }, this.label), h(\"div\", {\n        part: \"track-wrapper\",\n        class: \"slider__track-wrapper\"\n      }, h(\"div\", {\n        part: \"track\",\n        class: \"slider__track\",\n        ref: function ref(el) {\n          return _this2.sliderTrack = el;\n        }\n      }, h(\"div\", {\n        part: \"bar\",\n        class: \"slider__bar\",\n        style: {\n          width: \"\".concat(this.position, \"%\"),\n          backgroundColor: this.customColor ? this.customColor : this.disabled ? \"var(--background-bar-disabled)\" : \"var(--background-bar)\"\n        }\n      }), h(\"div\", {\n        part: \"thumb-wrapper\",\n        class: \"slider__thumb-wrapper\",\n        style: {\n          left: \"\".concat(this.position, \"%\")\n        },\n        onMouseDown: this.onButtonDown,\n        onTouchStart: this.onButtonDown\n      }, h(\"div\", {\n        part: \"thumb\",\n        class: \"slider__thumb\",\n        tabindex: \"0\",\n        role: \"slider\",\n        id: this.sliderId,\n        \"aria-valuemin\": this.min,\n        \"aria-valuenow\": this.value,\n        \"aria-valuemax\": this.max,\n        \"aria-valuetext\": \"\".concat(this.value),\n        \"aria-labelledby\": \"\".concat(this.sliderId, \"-label\"),\n        \"aria-orientation\": \"horizontal\",\n        \"aria-disabled\": this.disabled,\n        onKeyDown: this.onKeyDown\n      }))), this.showValue && h(\"div\", {\n        part: \"display-value\",\n        class: \"slider__display-value\"\n      }, this.value != null && this.value.toFixed(this.decimals), this.value != null && this.unit))));\n    }\n  }, {\n    key: \"getBasePartMap\",\n    value: function getBasePartMap() {\n      return this.getCssOrBasePartMap('basePart');\n    }\n  }, {\n    key: \"getCssClassMap\",\n    value: function getCssClassMap() {\n      return this.getCssOrBasePartMap('css');\n    }\n  }, {\n    key: \"getCssOrBasePartMap\",\n    value: function getCssOrBasePartMap(mode) {\n      var component = 'slider';\n      var prefix = mode === 'basePart' ? '' : \"\".concat(component, \"--\");\n      return classnames(component, this.disabled && \"\".concat(prefix, \"disabled\"), this.trackSmall && \"\".concat(prefix, \"track-small\"), this.thumbLarge && \"\".concat(prefix, \"thumb-large\"));\n    }\n  }, {\n    key: \"hostElement\",\n    get: function get() {\n      return getElement(this);\n    }\n  }], [{\n    key: \"watchers\",\n    get: function get() {\n      return {\n        \"value\": [\"handleValueChange\"]\n      };\n    }\n  }]);\n\n  return Slider;\n}();\n\nSlider.style = sliderCss;\nexport { Slider as scale_slider };","map":null,"metadata":{},"sourceType":"module"}