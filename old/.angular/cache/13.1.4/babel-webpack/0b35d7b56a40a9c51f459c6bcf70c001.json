{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Thomas\\\\Desktop\\\\md_fe\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\Thomas\\\\Desktop\\\\md_fe\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { r as registerInstance, h, a as Host, g as getElement } from './index-f2e5998d.js';\nimport { c as classnames } from './index-713f92a5.js';\nimport { s as statusNote } from './status-note-d227f142.js';\nvar chartStackCardCss = \":host{--scl-chart-stack-card-color:var(--scl-color-blue-60)}.chart-stack-card{color:var(--color-text);--scl-chart-stack-card-color:var(--scl-color-blue-60)}.chart-stack-card .header{height:var(--scl-spacing-24);font-size:var(--scl-font-size-24);font-weight:var(--scl-font-weight-extrabold);line-height:var(--scl-font-line-height-114);margin-bottom:var(--scl-spacing-24)}.chart-stack-card .bar{display:flex;justify-content:space-between;margin-bottom:var(--scl-spacing-16)}.chart-stack-card .bar__item{background-color:var(--scl-chart-stack-card-color);height:var(--scl-spacing-32);flex:1}.chart-stack-card .bar__item:first-of-type{border-top-left-radius:var(--scl-radius-4);border-bottom-left-radius:var(--scl-radius-4)}.chart-stack-card .bar__item:last-of-type{border-top-right-radius:var(--scl-radius-4);border-bottom-right-radius:var(--scl-radius-4)}.chart-stack-card .legend{display:flex;flex-direction:column;height:calc(var(--scl-spacing-16) * 10)}.chart-stack-card .spacer{padding:0 var(--scl-spacing-8)}.chart-stack-card .legend .legend__row__item{display:flex;line-height:var(--scl-font-line-height-133)}.chart-stack-card .legend .legend__row{display:flex;justify-content:space-between}.chart-stack-card .legend .legend__row:last-child{padding-bottom:var(--scl-spacing-32)}.chart-stack-card .legend .legend__item{height:10px;width:10px;background-color:var(--scl-chart-stack-card-color);border-radius:100%;align-self:center;margin-right:var(--scl-spacing-4)}.chart-stack-card .legend .legend__label{font-weight:var(--type-weight-bold);font-size:var(--scl-spacing-16);line-height:200%}\";\n\nvar ChartStackCard = /*#__PURE__*/function () {\n  function ChartStackCard(hostRef) {\n    _classCallCheck(this, ChartStackCard);\n\n    registerInstance(this, hostRef);\n\n    this.readData = function (data) {\n      try {\n        return Array.isArray(JSON.parse(data)) ? JSON.parse(data) : [];\n      } catch (error) {\n        return Array.isArray(data) ? data : [];\n      }\n    };\n  }\n\n  _createClass(ChartStackCard, [{\n    key: \"getOpacity\",\n    value: function getOpacity(item, index) {\n      return JSON.stringify(index === 0 ? 1 : +item.percentage / 100);\n    }\n  }, {\n    key: \"getCardStyle\",\n    value: function getCardStyle() {\n      return \"\\n      .card:after {\\n          content: '';\\n          display: block;\\n          background: linear-gradient(0deg, white, rgba(255,255,255, 0));\\n          height: 2rem;\\n          margin-top: -2rem;\\n          position: relative;\\n        }\\n\\n      .card__body: {\\n        padding-bottom: 0 !important;\\n      }\\n  \";\n    }\n  }, {\n    key: \"connectedCallback\",\n    value: function connectedCallback() {\n      statusNote({\n        source: this.hostElement,\n        type: 'warn'\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return h(Host, null, h(\"div\", {\n        class: this.getCssClassMap()\n      }, h(\"scale-card\", {\n        styles: this.getCardStyle()\n      }, h(\"div\", {\n        class: \"header\"\n      }, this.heading), h(\"div\", {\n        class: \"bar\"\n      }, this.readData(this.data).sort(function (a, b) {\n        return b.percentage - a.percentage;\n      }).map(function (item, index) {\n        if (+item.percentage > 0) {\n          return h(\"div\", {\n            class: \"bar__item\",\n            style: {\n              opacity: _this.getOpacity(item, index),\n              flex: JSON.stringify(+item.percentage)\n            }\n          });\n        }\n      })), h(\"div\", {\n        class: \"legend\"\n      }, this.readData(this.data).sort(function (a, b) {\n        return b.percentage - a.percentage;\n      }).map(function (item, index) {\n        return h(\"div\", {\n          class: \"legend__row\"\n        }, h(\"div\", {\n          class: \"legend__row__item\"\n        }, h(\"div\", {\n          class: \"legend__item\",\n          style: {\n            opacity: _this.getOpacity(item, index)\n          }\n        }), h(\"div\", {\n          class: \"legend__label spacer\"\n        }, item.type)), h(\"div\", {\n          class: \"legend__row__item\"\n        }, h(\"div\", {\n          class: \"spacer\"\n        }, item.value), h(\"div\", {\n          class: \"spacer\"\n        }, item.percentage, \"%\")));\n      })))));\n    }\n  }, {\n    key: \"getCssClassMap\",\n    value: function getCssClassMap() {\n      return classnames('chart-stack-card');\n    }\n  }, {\n    key: \"hostElement\",\n    get: function get() {\n      return getElement(this);\n    }\n  }]);\n\n  return ChartStackCard;\n}();\n\nChartStackCard.style = chartStackCardCss;\nexport { ChartStackCard as scale_chart_stack_card };","map":null,"metadata":{},"sourceType":"module"}